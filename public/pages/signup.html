<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <link rel="stylesheet" href="/signupcss" />
  </head>
  <body>
    <nav>
      <div class="logo">js_Rider</div>
      <div class="links">
        <a href="/">Home</a>
        <a href="/about">About</a>
        <a href="/contact">Contact</a>
        <a href="">Sign up</a>
      </div>
    </nav>

    <div class="container">
      <h2>Sign Up</h2>
      <form action="#" method="post" id="form">
        <div class="form-group">
          <label for="username">Username</label>
          <input
            type="text"
            id="username"
            placeholder="Enter Your Name"
            name="username"
            required
          />
        </div>
        <div class="form-group">
          <label for="email">Email</label>
          <input
            type="email"
            id="email"
            placeholder="Enter your email"
            name="email"
            required
          />
        </div>
        <div class="form-group">
          <label for="password">Password</label>
          <input
            type="password"
            id="password"
            placeholder="Enter your Password"
            name="password"
            required
          />
        </div>
        <div class="form-group">
          <label for="confirm password">Confirm Password</label>
          <input
            type="password"
            id="password"
            placeholder="Enter Confirm Password"
            name="conpassword"
            required
          />
        </div>

        <div class="form-group">
          <button type="submit">Sign Up</button>
        </div>
      </form>
    </div>

    <script>
      let FORM = document.getElementById("form")
      let userDetails = {}
      FORM.addEventListener("input",(event)=>{

          let value = event.target.value
          let name = event.target.name
          userDetails[name] = value
        //   userDetails = {...userDetails,[event.target.name]:e.target.value}
          console.log(userDetails);
      })
      FORM.addEventListener("submit",async(event)=>{
          event.preventDefault()
          if(userDetails.password && userDetails.password === userDetails.conpassword){
            let res = await fetch("/newuser",{
                method:"POST",
                headers:{"Content-Type":"application/json"},
                body:JSON.stringify(userDetails)
            })
            let res1 = await res.json();
            console.log(res1);
          }
         
      })
    </script>
  </body>
</html>
